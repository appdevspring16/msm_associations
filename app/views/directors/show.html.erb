<div class="page-header">
  <h3>Director #<%= @director.id %></h3>
</div>

<div class="row">
  <div class="col-md-12">
    <dl class="dl-horizontal">
      <dt>Name</dt>
      <dd><%= @director.name %></dd>

      <dt>Dob</dt>
      <dd><%= @director.dob %></dd>

      <dt>Bio</dt>
      <dd><%= truncate(@director.bio) %></dd>

      <dt>Image</dt>
      <!-- <dd><%= @director.image_url %></dd> -->
      <dd><img src="<%= @director.image_url %>" alt=""></dd>



      <dt>Number of movies</dt>
      <!-- <dd><%= Movie.where(:director_id=> @director.id).count%></dd> -->
      <dd><%= @director.movies.count %></dd>

<dt>Filmography
<dd>
  <ul class="list-group">
    <% @director.movies.each do |movie| %>
    <li class="list-group-item"><a href="/movies/<%= movie.id %>"><%= movie.title %> (<%= movie.year %>)</a></li>
    <% end %>
  </ul>
  <div class="row">
    <div class="col-md-12">
      <form action="/create_movie" method="post">
        <!-- Hidden input for authenticity token to protect from forgery -->
        <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">

        <!-- Label and input for title -->
        <div class="form-group">
          <label for="title" class="control-label">
            Title
          </label>

          <input type="text" id="title" name="title" placeholder="Title" class="form-control" value="<%= @movie.title %>">
        </div>

        <!-- Label and input for year -->
        <div class="form-group">
          <label for="year" class="control-label">
            Year
          </label>

          <input type="text" id="year" name="year" placeholder="Year" class="form-control" value="<%= @movie.year %>">
        </div>

      

        <!-- Label and input for director_id -->
        <!-- <div class="form-group">
          <label for="director_id" class="control-label">
            Director
          </label> -->

          <!-- <input type="text" id="director_id" name="director_id" placeholder="Director" class="form-control" value="<%= @movie.director_id %>"> -->

          <!-- IMPORTANT: added during video ~45min -->

          <!-- <option value=""></option> -->
          <!-- <% %> -->
          <!-- <%=  %> -->

          <!-- <select name="director_id" id="" class="form-control">
          <% Director.all.each do |director| %>
          <option value="<%=director.id%>"><%= director.name %></option>
          <% end %>
        </select> -->

        <!-- First helper method, first: name of the column youre trying to populate in the movie table
        Next helper method, first: array you want it to draw options for, the thing you want to store ultimately in the original column, thing you want user to see, thing you want to be preselected. -->

        <input type="hidden" name="director_id" value="<%= @director.id %>">
      </div>

      <button class="btn btn-success">
        Create Movie
      </button>
      or
      <a href="/movies">Cancel</a>
    </form>
  </div>


</dd>
</dt>



    </dl>

    <div class="btn-group btn-group-justified">
      <a href="/directors" class="btn btn-primary">
        Back
      </a>
      <a href="/directors/<%= @director.id %>/edit" class="btn btn-warning">
        Edit
      </a>
      <a href="/delete_director/<%= @director.id %>" class="btn btn-danger" rel="nofollow">
        Delete
      </a>
    </div>
  </div>
</div>
