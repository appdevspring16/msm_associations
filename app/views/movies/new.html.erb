<!-- Validation failure messages -->
<% if @movie.errors.any? %>
<% @movie.errors.full_messages.each do |message| %>
<div class="alert alert-dismissable alert-danger">
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
  <%= message %>
</div>
<% end %>
<% end %>

<div class="page-header">
  <h3>Add Movie</h3>
</div>

<div class="row">
  <div class="col-md-12">
    <form action="/create_movie" method="post">
      <!-- Hidden input for authenticity token to protect from forgery -->
      <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">

      <!-- Label and input for title -->
      <div class="form-group">
        <label for="title" class="control-label">
          Title
        </label>

        <input type="text" id="title" name="title" placeholder="Title" class="form-control" value="<%= @movie.title %>">
      </div>

      <!-- Label and input for year -->
      <div class="form-group">
        <label for="year" class="control-label">
          Year
        </label>

        <input type="text" id="year" name="year" placeholder="Year" class="form-control" value="<%= @movie.year %>">
      </div>

      <!-- Label and input for duration -->
      <div class="form-group">
        <label for="duration" class="control-label">
          Duration
        </label>

        <input type="text" id="duration" name="duration" placeholder="Duration" class="form-control" value="<%= @movie.duration %>">
      </div>

      <!-- Label and input for description -->
      <div class="form-group">
        <label for="description" class="control-label">
          Description
        </label>

        <textarea id="description" name="description" placeholder="Description" class="form-control" rows="3"><%= @movie.description %></textarea>
      </div>

      <!-- Label and input for image_url -->
      <div class="form-group">
        <label for="image_url" class="control-label">
          Image url
        </label>

        <input type="text" id="image_url" name="image_url" placeholder="Image url" class="form-control" value="<%= @movie.image_url %>">
      </div>

      <!-- Label and input for director_id -->
      <div class="form-group">
        <label for="director_id" class="control-label">
          Director
        </label>

        <!-- replace this code with a dropdown -->
        <!-- <input type="text" id="director_id" name="director_id" placeholder="Director" class="form-control" value="<%= @movie.director_id %>"> -->



        <!-- This select is short form -->
        <%= select_tag(:director_id, options_from_collection_for_select(Director.all, :id, :name, @movie.director_id ), :class => "form-control") %>
        <!-- <%= select_tag(tell the select tag what should the name be, what are all of options to include in the loop (the array to loop across, that value should be used in the lookup, the content the user actually sees, default or prepopulate value), :class => "form-control") -->



        <!-- Didn't use this because the default value would be long and drawn out -->
        <!-- <select class="form-control" name="director_id">
        <%= Director.all.each do |director| %>
        <option value="<%= @director_id %>"><%= director.name %></option>
        <% end %>
      </select> -->

      <!-- IMPORTANT!  The below doesn't work because the director.name gets loaded into the params[:@director_id] which needs to be an integer that is why the value="<%= @director_id %>" needed to be included-->

      <!-- creating a dropdown -->
      <!-- <option><%= director.name %></option>  -->




    </div>


    <button class="btn btn-success">
      Create Movie
    </button>
    or
    <a href="/movies">Cancel</a>
  </form>
</div>
</div>
